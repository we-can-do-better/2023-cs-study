## ì œë„¤ë¦­ì˜ ë³€ì„± (ê³µë³€, ë¶ˆê³µë³€)

> ğŸ“¢ ë¶€ì œ<br/>
> ì œë„¤ë¦­ì€ ì–´ë–»ê²Œ íƒ€ì… ì•ˆì „ì„±ì„ ë³´ì¥í•´ì£¼ê³ , ê·¸ ì›ë¦¬ëŠ” ì–´ë–»ê²Œ ë˜ëŠ”ê°€
>
> 02.28 - ì œë„¤ë¦­ê³¼ ë³€ì„±<br/>
> 03.07 - ì™€ì¼ë“œì¹´ë“œì™€ íƒ€ì… ì†Œê±°(Type Erasure)

## ì œë„¤ë¦­

### ì œë„¤ë¦­ì´ë€?

í´ë˜ìŠ¤ë‚˜ ë©”ì„œë“œì—ì„œ ì‚¬ìš©í•  **ë‚´ë¶€ ë°ì´í„° íƒ€ì…ì„ ì™¸ë¶€ì—ì„œ ì§€ì •í•˜ëŠ” ê¸°ë²•**

```java
class FruitBox<T> {
    List<T> fruits = new ArrayList<>();

    public void add(T fruit) {
            fruits.add(fruit);
    }
}
```

### ì œë„¤ë¦­ì€ ì™œ ì“°ëŠ”ì§€??

- ì»´íŒŒì¼ ì‹œì— íƒ€ì…ì„ ì²´í¬í•¨ìœ¼ë¡œì¨ ì½”ë“œì˜ ì•ˆì •ì„±ì„ ë†’ì—¬ì£¼ëŠ” ê¸°ëŠ¥
- ë°˜í™˜ê°’ì— ëŒ€í•œ íƒ€ì… ë³€í™˜ ë° ê²€ì‚¬ì— ì“°ì´ëŠ” ë…¸ë ¥ì„ ì¤„ì¼ ìˆ˜ ìˆê³ , í˜•ë³€í™˜ì„ ìƒëµí•  ìˆ˜ ìˆê²Œ ë˜ë©´ì„œ ê°€ë…ì„± ì¦ê°€


### ì–´ë–»ê²Œ?

- ì œë„¤ë¦­ ë¯¸ì‚¬ìš©

```sql
List priceList = new ArrayList<>();
priceList.add(new Integer(10000));
priceList.add(new Integer(20000));
priceList.add("30000");

Integer integer = (Integer) priceList.get(0) +
        (Integer) priceList.get(1) + // java.lang.ClassCastException
        (Integer) priceList.get(2);  // Runtime Error
```

- ì œë„¤ë¦­ ì‚¬ìš©

```sql
List<Integer> priceList = new ArrayList<>();
    
priceList.add(new Integer(10000));
priceList.add(new Integer(20000));
priceList.add("30000"); // Compile Error
```

ìœ„ì™€ ê°™ì´ íƒ€ì… ì•ˆì •ì„±ì„ ë³´ì¥í•´ì¤„ ë¿ë§Œ ì•„ë‹ˆë¼, **ì €ì¥ë˜ëŠ” ìš”ì†Œë¥¼ íŠ¹ì • íƒ€ì…ìœ¼ë¡œ ì œí•œí–ˆê¸° ë•Œë¬¸ì— íƒ€ì… ìºìŠ¤íŒ…ë„ ìƒëµ ê°€ëŠ¥**í•´ì§„ë‹¤.

- ì œë„¤ë¦­ ë¯¸ì‚¬ìš©

```sql
List priceList = new ArrayList<>();
priceList.add(new Integer(10000));
priceList.add(new Integer(20000));

Integer integer = (Integer) priceList.get(0) + (Integer) priceList.get(1); // ìƒëµ ë¶ˆê°€ëŠ¥
```

- ì œë„¤ë¦­ ì‚¬ìš©

```sql
List<Integer> priceList = new ArrayList<>();
priceList.add(new Integer(10000));
priceList.add(new Integer(20000));

Integer integer = priceList.get(0) + priceList.get(1); // ìƒëµ ê°€ëŠ¥
```

<br/>

### ì§€ë„¤ë¦­ìŠ¤ì˜ ìš©ì–´

```java
class List<T> list = new ArrayList<T>();
class List<String> strings = new ArrayList<String>();

T: íƒ€ì… ë§¤ê°œë³€ìˆ˜
String: ë§¤ê°œë³€ìˆ˜í™”ëœ íƒ€ì…
List: ì›ì‹œ íƒ€ì…(Raw Type)
```


> List<Integer> lists = new ArrayList<Integer>(); // ??<br/>
> List<Object> lists = new ArrayList<Integer>();  // ??
> 
> List<Integer> lists = new ArrayList<Integer>();  `OK`<br/>
> List<Object> lists = new ArrayList<Integer>();   `ERROR`
>
> ì°¸ì¡°ë³€ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜í™”ëœ íƒ€ì…ê³¼ ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜í™”ëœ íƒ€ì…ì€ ì¼ì¹˜í•´ì•¼ í•œë‹¤.
> 
> ë§Œì•½, ì¼ì¹˜í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ë¬¸ë²•ìƒ í—ˆìš©í•˜ì§€ ì•Šì•„ì„œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
> List<Object> objects = new ArrayList<Integer>(); // ì»´íŒŒì¼ ì—ëŸ¬


### ì œë„¤ë¦­ í´ë˜ìŠ¤ì™€ ì œë„¤ë¦­ ë©”ì„œë“œ

**ì œë„¤ë¦­ í´ë˜ìŠ¤**

- ì¼ë°˜ í´ë˜ìŠ¤ -> ì œë„¤ë¦­ í´ë˜ìŠ¤

```java
// ì¼ë°˜ í´ë˜ìŠ¤
class Box {
    private Object item;

    void set(Object item) {
        this.item = item;
    }

    void Object get() {
        return item;
    }
}
```

```java
// ì œë„¤ë¦­ í´ë˜ìŠ¤
// ì œë„¤ë¦­ í´ë˜ìŠ¤: í´ë˜ìŠ¤ ì˜†ì— ì œë„¤ë¦­ íƒ€ì… Të¥¼ ì„ ì–¸
class Box<T> { 
    private T t;

    void set(T t) {
        this.t = t;
    }

    void T get() {
        return t;
    }
}

```

**ì œë„¤ë¦­ ë©”ì„œë“œ**

- ì œë„¤ë¦­ ë©”ì„œë“œëŠ” ì¼ë°˜ ë©”ì„œë“œì²˜ëŸ¼ ì‘ì„±í•œ í›„ íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¥¼ ë°˜í™˜ íƒ€ì… ë°”ë¡œ ì•ì— ì„ ì–¸
- ì£¼ì˜í•  ì ì´ ì œë„¤ë¦­ í´ë˜ìŠ¤ì— ì§€ì •í•œ ì œë„¤ë¦­ íƒ€ì… <T>ì™€ ì œë„¤ë¦­ ë©”ì„œë“œì— ë¶™ì€ <T>ë“¤ì€ ê°™ì€ Të¥¼ ì‚¬ìš©í•´ë„ ê°™ì€ ê²ƒì´ ì•„ë‹ˆë¼ëŠ” ê²ƒì— ì£¼ì˜

```java
public class Item<T> {
    static <T> T getItem(T t) {
        ...
    }
}
```

- <>ì•ˆì˜ íƒ€ì…ì´ ë©”ì„œë“œ ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¡œ ì§€ì •
    - íƒ€ì… íŒŒë¼ë¯¸í„°ì˜ ìŠ¤ì½”í”„ëŠ” ë©”ì„œë“œì˜ ë¸”ë¡ ì´ë‚´ë¡œ í•œì •ëœë‹¤. ì¦‰, ì§€ì—­ ë³€ìˆ˜ë¼ê³  ìƒê°í•˜ì.
      ê·¸ ì´ìœ ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë ë•Œë§ˆë‹¤ ì§€ì •ë˜ê¸° ë•Œë¬¸

```java
// Box<T> ì œë„¤ë¦­ í´ë˜ìŠ¤ë¡œ ë°˜í™˜
Box<Integer> boxing = BoxingUtil.boxing(10);

// ì œë„¤ë¦­ ë©”ì„œë“œ (ì œë„¤ë¦­)
class Box<T> {
    private T t;

    public T get() {
        return t;
    }

    public void set(T t) {
        this.t = t;
    }
}

class BoxingUtil {
    public static <T> Box<T> boxing(T t) {
        Box<T> box = new Box<T>();
        box.set(t);

        return box;
    }
}
```

## ë³€ì„±

`ë³€ì„±(variance)`ì€ **ê³„ì¸µ ê´€ê³„ì¸ íƒ€ì…ê°„ì— ì–´ë–¤ ê´€ê³„ê°€ ìˆëŠ”ì§€** ë‚˜íƒ€ë‚´ëŠ” ê°œë…

### ê³µë³€(Convariance) - <? extends T> (ë°°ì—´)

![image](https://user-images.githubusercontent.com/64416833/221831918-cdc9f093-3a78-410a-9d80-1eb930cddf5e.png)

Number í´ë˜ìŠ¤ì˜ ê³„ì¸µ êµ¬ì¡°

íƒ€ì… `Sub`ê°€ íƒ€ì… `Super`ì˜ í•˜ìœ„ íƒ€ì…ì´ë©´, `Sub[B]`ëŠ” `Super[A]`ì˜ í•˜ìœ„ íƒ€ì…ì´ ê°€ëŠ¥í•˜ë‹¤.

â†’ `Integer` íƒ€ì…ì´ `Object`ì˜ í•˜ìœ„ íƒ€ì…ì´ë©´ `Integer ë°°ì—´`ì€ `Object ë°°ì—´`ì˜ í•˜ìœ„ íƒ€ì…ì´ ì„±ë¦½

```java
Object[] objects = new Integer[1]; // ì—ëŸ¬ ë°œìƒ X
```

### ë¬´ê³µë³€(Invariance) - <T> (ì œë„¤ë¦­)

![image](https://user-images.githubusercontent.com/64416833/221832020-9c67d6c7-1a15-4037-957c-904ae4df901e.png)

íƒ€ì… `B`ê°€ íƒ€ì… `A`ì˜ í•˜ìœ„ íƒ€ì…ì´ë”ë¼ë„ `List<B>`ì™€ `List<A>`ëŠ” ì•„ë¬´ëŸ° ê´€ê³„ê°€ ì—†ë‹¤.

-> `Integer`ê°€ `Object`ì˜ í•˜ìœ„ íƒ€ì…ì´ì–´ë„ `List<Object>`ì™€ `List<Integer>`ëŠ” ì•„ë¬´ëŸ° ê´€ê³„ê°€ ì—†ë‹¤.

**ì¦‰, List<Object>ì™€ List<Integer>ëŠ” ì„œë¡œ í•˜ìœ„ íƒ€ì…ë„, ìƒìœ„ íƒ€ì…ë„ ì•„ë‹ˆë‹¤.**

```java
List<Object> objects = new ArrayList<Integer>(); // ì»´íŒŒì¼ ì—ëŸ¬

List<Object> objects = new ArrayList<Object>();
List<Integer> ints= new ArrayList<Integer>();
objects = ints; // ì»´íŒŒì¼ ì—ëŸ¬
```
