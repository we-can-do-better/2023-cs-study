### ê·¸ëŸ°ë°..

í˜„ì¬ê¹Œì§€ì˜ ë‚´ìš©ë“¤ì—ì„œëŠ” ë‘ ê°€ì§€ ë¬¸ì œì ì´ ì¡´ì¬í•œë‹¤.

1. **ëª¨ë“  ì¢…ë¥˜ì˜ íƒ€ì… ì§€ì • ë¬¸ì œ**

ì§€ê¸ˆê¹Œì§€ ë§Œë“¤ì–´ì˜¨ ì œë„¤ë¦­ í´ë˜ìŠ¤ëŠ” **íƒ€ì… ë§¤ê°œë³€ìˆ˜ì— ì‚¬ìš©í•  íƒ€ì…ì„ ëª…ì‹œí•˜ë©´ í•œ ì¢…ë¥˜ì˜ íƒ€ì…ë§Œ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ ì œí•œí–ˆë‹¤. ê·¸ëŸ¬ë‚˜, ëª¨ë“  ì¢…ë¥˜ì˜ íƒ€ì…ì„ ì§€ì •í•  ìˆ˜ ìˆëŠ” ë¬¸ì œê°€ ì¡´ì¬í•œë‹¤.**

```java
class ShoeBox<T> {
    List<T> list = new ArrayList<T>();

    public List<T> get() {
        return this.list;
    }
    public void add(T t) {
        this.list.add(t);
    }
}
```

```java
ShoeBox<AirForce> airForceBox = new ShoeBox<AirForce>();
ShoeBox<Jordon> jordonBox = new ShoeBox<Jordon>();

ShoeBox<Toy> toyBox = new ShoeBox<Toy>();                // ??
ShoeBox<Computer> computerBox = new ShoeBox<Computer>(); // ??
ShoeBox<Food> foodBox = new ShoeBox<Food>();             // ??
...
```

ì´ì²˜ëŸ¼ ëª¨ë“  ì¢…ë¥˜ì˜ íƒ€ì…ì´ ì§€ì •ë  ìˆ˜ ìˆëŠ” ë¬¸ì œê°€ ìˆë‹¤.

ê·¸ë˜ì„œ ì§€ì • íƒ€ì…ì„ ì œí•œí•˜ëŠ” ë°©ë²•ìœ¼ë¡œ `â€˜extendsâ€™` **í‚¤ì›Œë“œë¥¼ ì œë„¤ë¦­ íƒ€ì…ì— ë¶™ì—¬ì£¼ë©´ íŠ¹ì • íƒ€ì…ê³¼ íŠ¹ì • íƒ€ì…ì˜ ìì‹ë“¤ë§Œ ì˜¬ ìˆ˜ ìˆë„ë¡ ì œí•œ**í•  ìˆ˜ ìˆë‹¤.

```java
class ShoeBox<T extends Shoe> { ... }

ShoeBox<Jordon> jordonBox = new ShoeBox<Jordon>();
ShoeBox<AirForce> airForceBox = new ShoeBox<AirForce>();
ShoeBox<Cap> capBox = new ShoeBox<Cap>(); // ì»´íŒŒì¼ ì—ëŸ¬
```

`extends`ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ íŠ¹ì • íƒ€ì…ê³¼ íŠ¹ì • íƒ€ì…ì˜ ìì‹ë“¤ë§Œ ì˜¬ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

ê·¸ë¦¬ê³  (íŠ¹ì • í´ë˜ìŠ¤) ìœ„ìª½ì— í•œê³„ë¥¼ ë‘ì—ˆë‹¤ëŠ” ì˜ë¯¸ì—ì„œ **â€œìƒí•œ ê²½ê³„(Upper Bound)â€**ë¼ê³  ë¶€ë¥¸ë‹¤.

![image](https://user-images.githubusercontent.com/64416833/223367519-47ee395e-e3c0-4f6d-8240-ebe483ea2b98.png)

ëª¨ë“  ê²ƒì´ í•´ê²°ëœ ì¤„(?) ì•Œì•˜ì§€ë§Œ ë˜ ë‹¤ë¥¸ ë¬¸ì œê°€ ì¡´ì¬í•œë‹¤.

1. **í™•ì¥ì„±ì— ì¢‹ì§€ ì•Šë‹¤.**

`â€˜extendsâ€™`ë¡œ íŠ¹ì • íƒ€ì…ê³¼ íŠ¹ì • íƒ€ì…ì˜ ìì‹ë“¤ë§Œ ì˜¤ë„ë¡ ì œí•œí–ˆì§€ë§Œ, í•´ë‹¹ ì œë„¤ë¦­ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³ì—ì„œ íŠ¹ì • íƒ€ì…ì„ ì§€ì •í•˜ê²Œ ë  ê²½ìš° í™•ì¥ì„±ìˆëŠ” êµ¬ì¡°ë¥¼ ê°€ì ¸ê°€ì§€ ëª»í•œë‹¤.

```java
class Utils {
    static <T> void printShoe(ShoeBox<Shoe> shoeBox) { ... }
}
class ShoeBox<T extends Shoe> { ... }

Utils.printShoe(shoeBox);
Utils.printShoe(jordonBox); // Compile Error
```


![image](https://user-images.githubusercontent.com/64416833/223367672-898c0f86-24ef-41c3-a419-5add7aef649d.png)


ê·¸ë ‡ë‹¤ë©´ ì˜¤ë²„ë¡œë”©ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©´ ë˜ì§€ ì•Šì„ê¹Œ?

ì•„ë˜ì™€ ê°™ì´ ì˜¤ë²„ë¡œë”©ì„ í•˜ê²Œ ë  ê²½ìš° **íƒ€ì… ì†Œê±°ì˜ ì´ìœ **ë¡œ ì˜¤ë²„ë¡œë”©ì´ ì„±ë¦½ë˜ì§€ ì•Šì•„ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ì¦‰, ì•„ë˜ ë‘ ë©”ì„œë“œëŠ” ì˜¤ë²„ë¡œë”©ì´ ì•„ë‹Œ ë©”ì„œë“œ ì¤‘ë³µ ì •ì˜ê°€ ë˜ê²Œ ëœë‹¤.

```java
class Utils {
    static void printShoe(ShoeBox<Shoe> shoeBox) {...} // ì»´íŒŒì¼ ì—ëŸ¬
    static void printShoe(ShoeBox<Jordon> shoeBox) {...}
}
```

```java
'printShoe(ShoeBox<Shoe>)' clashes with 'printShoe(ShoeBox<Jordon>)'; 
both methods have same erasure
```

![image](https://user-images.githubusercontent.com/64416833/223367746-6f7311d5-b22f-45b9-a674-cf847b316877.png)


ì´ëŸ´ ë•Œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ê³ ì•ˆëœ ê²ƒì´ ë°”ë¡œ **â€˜ì™€ì¼ë“œ ì¹´ë“œâ€™**ì´ë‹¤.

## ì™€ì¼ë“œ ì¹´ë“œ

ì œë„¤ë¦­ì—ì„œ ì™€ì¼ë“œì¹´ë“œì˜ ì¢…ë¥˜ëŠ” ì´ ì„¸ ê°€ì§€ê°€ ìˆë‹¤.

```java
Unbounded Wildcards: ëª¨ë“  íƒ€ì…ì´ ê°€ëŠ¥           - <?> 
Uppder Bounded Wildcards: Boxì™€ Boxì˜ í•˜ìœ„ íƒ€ì… - <? extends Box> (ìƒí•œ ê²½ê³„)
Lower Bounded Wildcards: Boxì™€ Boxì˜ ìƒìœ„ íƒ€ì…  - <? super Box>   (í•˜í•œ ê²½ê³„)
```

![image](https://user-images.githubusercontent.com/64416833/223367815-2f7fb1a6-0560-4986-8af5-ab804fdd9927.png)

![image](https://user-images.githubusercontent.com/64416833/223367850-241fbc85-d3a9-470a-abc7-fe1fd1b78ded.png)

![image](https://user-images.githubusercontent.com/64416833/223367887-5ea60e46-d855-4a41-aa0a-e840ad1416ed.png)

ê¸°ì¡´ì— í™•ì¥ì„±ì„ ê°€ì§€ì§€ ëª»í•˜ëŠ” êµ¬ì¡°ë¥¼ ì™€ì¼ë“œì¹´ë“œì˜ ìƒí•œ ì œí•œìœ¼ë¡œ í™•ì¥ì„±ìˆê²Œ í•  ìˆ˜ ìˆë‹¤.

```java
class Utils {
    static void printShoe(ShoeBox<? extends Shoe> shoeBox) { ... }
}
class ShoeBox<T extends Shoe> { ... }

Utils.printShoe(shoeBox);
Utils.printShoe(jordonBox); // Compile Error
```


![image](https://user-images.githubusercontent.com/64416833/223367971-182bf3d0-702e-46df-81ed-9052db7ba97a.png)

ì´ì²˜ëŸ¼ ì™€ì¼ë“œì¹´ë“œì˜ ê²½ê³„ë¥¼ í™œìš©í•˜ê²Œ ë˜ë©´ **í™•ì¥ì„±**ìˆëŠ” ì„¤ê³„ë¥¼ í•  ìˆ˜ ìˆë‹¤.

ì´ê²ƒê³¼ ë”ë¶ˆì–´ `<? extends â€¦>`ë¡œ **ê³µë³€**ì„, `<? super â€¦>`ë¡œ **ë°˜ê³µë³€**ì˜ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.


**ë°˜ê³µë³€(Contravariance) - <? super T>**

íƒ€ì… Bê°€ íƒ€ì… Aì˜ í•˜ìœ„ íƒ€ì…ì´ë©´, List<B>ê°€ List<A>ì˜ ìƒìœ„ íƒ€ì…ì´ ê°€ëŠ¥í•˜ë‹¤.

Subê°€ Superì˜ í•˜ìœ„ íƒ€ì…ì´ë©´, List<Sub>ê°€ List<Super>ì˜ ìƒìœ„ íƒ€ì…ì´ ê°€ëŠ¥í•˜ë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, Language > JVM > Javaì˜ ìƒì† êµ¬ì¡°ë¥¼ ê°–ëŠ”ë‹¤ë©´ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ 

`List<Java>` >>> `List<JVM>` >>> `List<Language>` ê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

```java
List<Language> languageList = new ArrayList<>();
List<JVM> jvmList = new ArrayList<>();
List<Java> javaList = new ArrayList<>();

LangUtil.printLanguage(languageList);
LangUtil.printLanguage(jvmList);
LangUtil.printLanguage(javaList); // Compile Error
```

![image](https://user-images.githubusercontent.com/64416833/223368048-80f8f20f-9eaf-437f-a9c4-4f26fb2c4cad.png)

**ê³µë³€(Convariance) - <? extends T>**

íƒ€ì… `Sub`ê°€ íƒ€ì… `Super`ì˜ í•˜ìœ„ íƒ€ì…ì´ë©´, `Sub[]`ëŠ” `Super[]`ì˜ í•˜ìœ„ íƒ€ì…ì´ ê°€ëŠ¥í•˜ë‹¤.

â†’ `Integer` íƒ€ì…ì´ `Object`ì˜ í•˜ìœ„ íƒ€ì…ì´ë©´ `Integer[]`ì€ `Object[]`ì˜ í•˜ìœ„ íƒ€ì…ì´ ì„±ë¦½

```java
Object[] objects = new Integer[1]; // ì»´íŒŒì¼ ì—ëŸ¬ ë°œìƒ X
```



### ìƒí•œ ê²½ê³„ ì™€ì¼ë“œì¹´ë“œ

List<? extends T>: T ìƒí•œ ì™€ì¼ë“œì¹´ë“œì˜ ë¦¬ìŠ¤íŠ¸

![image](https://user-images.githubusercontent.com/64416833/223368200-1193ca8c-2ca7-456f-b0c3-b261dbfbb530.png)


- êº¼ë‚´ëŠ”ê±´ OK
- ì €ì¥ì€ NO

```java

Printer<A4> a4Printer = new Printer<>();
PrinterUtil.getPaper(a4Printer)

public static void getPaper(Printer<? extends Paper> printer) {
		Paper paper = printer.get(); // OK
		printer.set(new Paper());       // Compile Error. A4ë§Œ ë‹´ì„ ìˆ˜ ìˆëŠ”ë° Paper...?
}

class Paper {}
class A4 extends Paper {}
class A3 extends Paper {}

class Printer<T> {
    private T t;

    public T get() {
        return t;
    }

    public void set(T t) {
        this.t = t;
    }
}
```

### í•˜í•œ ê²½ê³„ ì™€ì¼ë“œì¹´ë“œ

List<? super T>: T í•˜í•œ ì™€ì¼ë“œì¹´ë“œì˜ ë¦¬ìŠ¤íŠ¸

![image](https://user-images.githubusercontent.com/64416833/223368300-99abd5a0-eae3-4a4c-ad39-b84b21cb94d0.png)


- êº¼ë‚´ëŠ”ê±´ NO
- ì €ì¥ì€ OK

```java
public void setPaper(Printer<? super Paper> printer) {
		printer.set(new Paper());    // OK
		Paper paper = printer.get(); // Compile Error. Paperê°€ ë“¤ì–´ì˜¬ì§€ Paperì˜ ìƒìœ„ íƒ€ì…ì´ ì˜¬ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸
}
```

### ì–¸ì œ ê³µë³€ì„ ë¶ˆê³µë³€ìœ¼ë¡œ, ë˜ëŠ” ë¶ˆê³µë³€ì„ ê³µë³€ìœ¼ë¡œ

[[ì´í™í‹°ë¸Œ ìë°” 3íŒ] ì•„ì´í…œ 31. í•œì •ì  ì™€ì¼ë“œì¹´ë“œë¥¼ ì‚¬ìš©í•´ API ìœ ì—°ì„±ì„ ë†’ì´ë¼](https://madplay.github.io/post/use-bounded-wildcards-to-increase-api-flexibility)

## íƒ€ì… ì†Œê±°(Type Erasure)

**ë°°ì—´ì€ ëŸ°íƒ€ì„ì— ì‹¤ì²´í™”(reify)ë˜ì§€ë§Œ, ì œë„¤ë¦­ì€ ëŸ°íƒ€ì„ì— íƒ€ì…ì´ ì†Œê±°ëœë‹¤.** 

=> **ë°°ì—´(ì‹¤ì²´í™”)ì€ ìì‹ ì´ ë‹´ê¸°ë¡œ í•œ ì›ì†Œì˜ íƒ€ì… ì •ë³´ë¥¼ ëŸ°íƒ€ì„ì—ë„ ì•Œê³  ìˆë‹¤.**

=> **ë°˜ë©´,** **ì œë„¤ë¦­(ë¹„ì‹¤ì²´í™”)ì€ ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì… ì²´í¬ë¥¼ í•œ ë’¤ ëŸ°íƒ€ì„ì—ëŠ” íƒ€ì…ì„ ì§€ìš°ê¸° ë•Œë¬¸ì— í•´ë‹¹ íƒ€ì…ì„ ì•Œ ìˆ˜ ì—†ë‹¤.**

**ì˜ˆë¥¼ ë“¤ë©´ Box<String>ê³¼ Box<Integer>ë¥¼ ì •ì˜í–ˆë‹¤ë©´ ì»´íŒŒì¼ í›„ì— ì´ë“¤ì˜ ì›ì‹œ íƒ€ì…ì¸ â€˜Boxâ€™ë¡œ íƒ€ì…ì„ ì œê±°í•œë‹¤.**

- ë°°ì—´

ë°°ì—´ì€ ëŸ°íƒ€ì„ì— íƒ€ì…ì„ ì¸ì§€í•˜ê³  í™•ì¸í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹˜ê¸° ë•Œë¬¸ì— ì•„ë˜ ë°°ì—´ ì˜ˆì‹œì—ì„œ `Integer` ë°°ì—´ì— Stringì„ ë„£ìœ¼ë ¤ê³  í•˜ë©´ ëŸ°íƒ€ì„ ê³¼ì •ì—ì„œ `ArrayStoreException`ì´ ë°œìƒí•œë‹¤.

```java
// ë°°ì—´(ê³µë³€)
Object[] objects = new Integer[1];
objects[0] = "1000"; // Runtime Error. ArrayStoreException: java.lang.String
```

- ì œë„¤ë¦­

ì œë„¤ë¦­ì€ ëŸ°íƒ€ì„ì— íƒ€ì…ì´ **ì†Œê±°**(ì œê±°)ë˜ë¯€ë¡œ íƒ€ì…ì— ëŒ€í•œ ì •ë³´ë¥¼ ì•Œ ìˆ˜ ì—†ë‹¤. 

ì¦‰, ì»´íŒŒì¼ íƒ€ì„ì—ë§Œ íƒ€ì… ì œì•½ ì¡°ê±´ì„ ê±¸ ë¿ ëŸ°íƒ€ì„ì—ëŠ” íƒ€ì… ì •ë³´ë¥¼ ì•Œì§€ ëª»í•œë‹¤.

```java
// ì œë„¤ë¦­(ë¶ˆê³µë³€)
List<Object> objects = ArrayList<Integer>(); // Compile Error.
```

ì†Œê±°â€¦ ì†Œê±°â€¦. 

ì´ê²Œ ë§ì´ê³  ì–´ë–»ê²Œ ê°€ëŠ¥í•œ ê±¸ê¹Œ?

Java ì»´íŒŒì¼ íƒ€ì… ì†Œê±° ê·œì¹™

```java
- unbounded Type(<?>,<T> ) ëŠ” Objectë¡œ ë³€í™˜
- bound Type( <E extends Comparable>) ì˜ ê²½ìš° Comparableë¡œ ë³€í™˜
- ì œë„¤ë¦­ íƒ€ì…ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¼ë°˜ í´ë˜ìŠ¤, ì¸í„°í˜ì´ìŠ¤, ë©”ì†Œë“œì—ë§Œ ì†Œê±° ê·œì¹™ ì‚¬ìš©
- ì œë„¤ë¦­ íƒ€ì…ì„ ì œê±°í•œ í›„ íƒ€ì…ì´ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ íƒ€ì… ì•ˆì •ì„±ì„ ìœ„í•´ type castingì„ ë„£ëŠ”ë‹¤
- í™•ì¥ëœ ì œë„¤ë¦­ íƒ€ì…ì—ì„œ ë‹¤í˜•ì„±ì„ ë³´ì¡´í•˜ê¸° ìœ„í•´ bridge methodë¥¼ ìƒì„±
```

- ì˜ˆì‹œ 1

```java
// íƒ€ì… ì†Œê±° ì „(ì»´íŒŒì¼ í•  ë•Œ)
public class Test<T> {
    public void test(T test) {
        System.out.println(test.toString());
    }
}
```

```java
// íƒ€ì… ì†Œê±° í›„(ëŸ°íƒ€ì„ ë•Œ)
public class Test {
    public void test(Object test) {
        System.out.println(test.toString());
    }
}
```

- ì˜ˆì‹œ 2

```java
// ì»´íŒŒì¼ íƒ€ì„(ì‹¤ì œ ì‘ì„±í•œ ì½”ë“œ)
List<String> stringList = new ArrayList<String>();
List<Integer> integerList = new ArrayList<Integer>();

// ëŸ°íƒ€ì„(ì œë„¤ë¦­ íƒ€ì…ì€ ëŸ°íƒ€ì„ì— ì†Œê±°ë˜ë¯€ë¡œ êµ¬ë¶„ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤)
List stringList = new ArrayList();
List integerList = new ArrayList();
```

- ì˜ˆì‹œ 3 (Bounded Type)

```java
// íƒ€ì… ì†Œê±° ì „
public class Box<T extends Integer> {
    T load;

    T get() {
        return load;
    }
}

//íƒ€ì… ì†Œê±° í›„
public class Box {

    Integer load;

    Integer get() {
        return load;
    }
}
```

- ì˜ˆì‹œ 4 (ì œë„¤ë¦­ ë©”ì„œë“œ)

```java
// íƒ€ì… ì†Œê±° ì „
public static <T> int count(T[] anArray, T elem) {
    int cnt = 0;

    for (T e : anArray) {
        if (e.equals(elem)) {
            ++cnt;
				}
		}
    return cnt;
}

// íƒ€ì… ì†Œê±° í›„
public static int count(Object[] anArray, Object elem) {
    int cnt = 0;

    for (Object e : anArray) {
        if (e.equals(elem)) {
            ++cnt;
				}
		}
    return cnt;
}
```

- ì˜ˆì‹œ 6 - ì œë„¤ë¦­ íƒ€ì…ì„ ì œê±° í›„ íƒ€ì…ì´ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ íƒ€ì… ì•ˆì •ì„±ì„ ìœ„í•´ type castingì„ ì¶”ê°€

getValue()Â ë©”ì„œë“œ ë¶€ë¶„ì—ì„œ, 

```java
// ìºìŠ¤íŒ… ì¶”ê°€ ì „
class Box {
    List list = new ArrayList(); // Object

    void add(Number item) {
        list.add(item);
    }

    Number getValue(int i) {
        return list.get(i); // í˜•ë³€í™˜ ë¶ˆì¼ì¹˜ (Number != Object)
    }
}

// ìºìŠ¤íŒ… ì¶”ê°€ í›„
class Box {
    List list = new ArrayList(); // Object

    void add(Number item) {
        list.add(item);
    }

    Number getValue(int i) { // Listì˜Â get()ì€ Objectíƒ€ì…ì„ ë°˜í™˜í•˜ë¯€ë¡œ Numberë¡œ í˜•ë³€í™˜ì´ í•„ìš”
        return (Number) list.get(i); // ìºìŠ¤íŒ… ì—°ì‚°ì ì¶”ê°€
    }
}
```

ì œë„¤ë¦­ì—ëŠ” ì™œ ì´ëŸ° ì†Œê±° ê°œë…ì´ ìƒê²¨ë‚˜ê²Œ ëœê±¸ê¹Œ?

ê²°ë¡ ë¶€í„° ë§í•˜ë©´ **ì œë„¤ë¦­ì´ ì§€ì›ë˜ê¸° ì „ì˜ ë ˆê±°ì‹œ ì½”ë“œì™€ ì œë„¤ë¦­ íƒ€ì…ì„ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ ìœ„í•´ì„œ ì¡´ì¬**í•œë‹¤.

```java
// Java 1.5 ì´ì „ì˜ ì½”ë“œëŠ” ì œë„¤ë¦­ ëŒ€ì‹  Objectë¥¼ ì‚¬ìš©
// ë‹¨, í˜•ë³€í™˜ì„ í•´ì£¼ì–´ì•¼ í•˜ëŠ” ë²ˆê±°ë¡œì›€ê³¼ íƒ€ì… ì•ˆì •ì„±ì´ ë³´ì¥ë˜ì§€ ì•Šì•˜ìŒ
class Item {
    Object item;

    void setItem(Object item) { this.item = item; }
    Object getItem() { return item };
}
```

```java
// Java 1.5 ë¶€í„° ì œë„¤ë¦­ì´ ë„ì…ë˜ì—ˆê³  ê³¼ê±°ì˜ ì½”ë“œì™€ì˜ í˜¸í™˜ì„±ì„ ìœ„í•´ ì†Œê±° ê°œë…ì´ ë„ì…ë¨
// ì•„ë˜ì˜ ì œë„¤ë¦­ í´ë˜ìŠ¤ê°€ ì¡´ì¬í•œë‹¤ê³  ê°€ì •í•´ë³´ì.
class Item<T> {
    T item;

    void setItem(T item) { this.item = item; }
    T getItem() { return item };
}
```

```java
// ì†Œê±°ì˜ ë§¤ì»¤ë‹ˆì¦˜ ë•ë¶„ì— ì§€ë„¤ë¦­ì´ ë„ì…ë˜ì–´ë„ ì´ì „ì˜ ì½”ë“œì™€ì˜ í˜¸í™˜ì— ë¬¸ì œê°€ ì—†ë‹¤.
Item item1 = new Item();                 // OK
Item<String> item2 = new Item<String>(); // OK

// ë‹¤ë§Œ ì§€ë„¤ë¦­ íƒ€ì…ì„ ì§€ì •í•˜ì§€ ì•Šì•„ì„œ `unchecked or unsafe operation` ê²½ê³ ê°€ ë°œìƒí•œë‹¤. 
// ì»´íŒŒì¼ ì—ëŸ¬ ë°œìƒ X, ì‹¤í–‰ë„ OK
item1.setItem(new Integer("1111")); // ê²½ê³ 
item1.setItem("1111");              // ê²½ê³  
```

## ì •ë¦¬

- ë°°ì—´ì€ ê³µë³€í•˜ë©° ëŸ°íƒ€ì„ì— ì‹¤ì²´í™” ë˜ì§€ë§Œ, ì œë„¤ë¦­ íƒ€ì…ì€ ë¶ˆê³µë³€í•˜ë©° ëŸ°íƒ€ì„ì— ì†Œê±°ëœë‹¤.

[ì´í™í‹°ë¸Œ ìë°” ì•„ì´í…œ 28](https://github.com/ahn-sj/reading-book-review/blob/master/effective-java/28_%EB%B0%B0%EC%97%B4%EB%B3%B4%EB%8B%A4%EB%8A%94_%EB%A6%AC%EC%8A%A4%ED%8A%B8%EB%A5%BC_%EC%82%AC%EC%9A%A9%ED%95%98%EB%9D%BC.md#2-%EB%B0%B0%EC%97%B4%EC%9D%80-%EC%8B%A4%EC%B2%B4%ED%99%94reify%EB%90%98%EC%A7%80%EB%A7%8C-%EC%A0%9C%EB%84%A4%EB%A6%AD%EC%9D%80-%EB%9F%B0%ED%83%80%EC%9E%84%EC%8B%9C%EC%97%90-%ED%83%80%EC%9E%85%EC%9D%B4-%EC%86%8C%EA%B1%B0%EB%90%9C%EB%8B%A4)

<aside>
ğŸ“¢ Q. static ë³€ìˆ˜ì—ëŠ” ì œë„¤ë¦­ ì‚¬ìš©ì´ ê°€ëŠ¥í• ê¹Œ?<br/>
A. ë¶ˆê°€ëŠ¥í•˜ë‹¤.

ì–´ë– í•œ í´ë˜ìŠ¤ê°€ ì¸ìŠ¤í„´ìŠ¤ê°€ ë˜ê¸° ì „ì— staticì€ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°€ëŠ”ë° ì´ë•Œ static ë³€ìˆ˜ì— ì œë„¤ë¦­ì´ ë¶™ê²Œ ë˜ë©´ í•´ë‹¹ ë³€ìˆ˜ì˜ íƒ€ì…ì´ ê²°ì •ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.

```java
public class Student<T> {
		static T name; // ì»´íŒŒì¼ ì—ëŸ¬
}
```

í´ë˜ìŠ¤ íƒ€ì… ë§¤ê°œë³€ìˆ˜ëŠ” class A<T>ì™€ ê°™ì´ ì„ ì–¸ì„ í•˜ëŠ”ë° ì´ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ì¸ì‹ëœë‹¤.
ì¦‰, staticì—ì„œëŠ” ë‹¹ì—°íˆ ì‚¬ìš©í•  ìˆ˜ê°€ ì—†ë‹¤.

</aside>

<aside>
ğŸ“¢ Q. ì •ì  ë©”ì„œë“œì— ì œë„¤ë¦­ ì‚¬ìš©ì´ ê°€ëŠ¥í• ê¹Œ? ë‹¤ì‹œ ë§í•´, ì œë„¤ë¦­ ë©”ì„œë“œëŠ” staticì´ ê°€ëŠ¥í• ê¹Œ?<br/>
A. ê°€ëŠ¥í•˜ë‹¤.

ì œë„¤ë¦­ ë©”ì„œë“œ íƒ€ì… ë§¤ê°œë³€ìˆ˜ëŠ” `static <T> void test(T a) {â€¦}` ì™€ ê°™ì´ ì„ ì–¸í•˜ê²Œ ëœë‹¤.

ì œë„¤ë¦­ ë©”ì„œë“œëŠ” í˜¸ì¶œì‹œì— ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ ì§€ì •í•˜ê¸° ë•Œë¬¸ì— staticì´ ê°€ëŠ¥í•˜ë‹¤.

ì œë„¤ë¦­ í´ë˜ìŠ¤ì™€ ì œë„¤ë¦­ ë©”ì„œë“œì˜ ì°¨ì´ì ì„ ì„¤ëª…í•  ë•Œ í´ë˜ìŠ¤ì˜ ì œë„¤ë¦­ íƒ€ì… <T>ì™€ ì œë„¤ë¦­ ë©”ì„œë“œì˜ <N>(ë˜ëŠ” ê°™ì€ ì´ë¦„ì¸ <T>ì—¬ë„)ëŠ” ì „í˜€ ë³„ê°œë¼ëŠ” ê²ƒì´ë‹¤.

!!TIP!!

í´ë˜ìŠ¤ì˜ <T>ëŠ” **ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜** (ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë  ë•Œ ì§€ì •í•˜ê¸° ë•Œë¬¸)

ì œë„¤ë¦­ ë©”ì„œë“œì˜ TëŠ” **ì§€ì—­ë³€ìˆ˜** ë¼ê³  ì´í•´í•˜ë©´ í¸í•˜ë‹¤.

</aside>

<aside>
ğŸ“¢ Q. ë°°ì—´ì„ ê³µë³€ìœ¼ë¡œ ë§Œë“  ì´ìœ ëŠ”?<br/>
A. **ë‹¤í˜•ì„±ì˜ ì´ì ì„ ì‚´ë¦¬ê¸° ìœ„í•´ì„œ**

ìë°”ì˜ Arrays í´ë˜ìŠ¤ì˜ swap ë©”ì„œë“œëŠ” ë°°ì—´ì— ë“¤ì–´ìˆëŠ” ì›ì†Œ(element)ì˜ íƒ€ì…ê³¼ëŠ” ìƒê´€ì—†ì´ ë‹¨ìˆœíˆ ë‘ ì›ì†Œì˜ ìœ„ì¹˜ë¥¼ ë°”ê¿”ì£¼ëŠ” ë©”ì„œë“œì´ë‹¤.

ë”°ë¼ì„œ ë°°ì—´ì„ ê³µë³€ìœ¼ë¡œ ë§Œë“¤ê²Œ ë˜ë©´ ê° íƒ€ì…ë§ˆë‹¤ ì˜¤ë²„ë¡œë”©ìœ¼ë¡œ ëª¨ë“  íƒ€ì…ì„ ë°”ê¾¸ëŠ” swap ë©”ì„œë“œë¥¼ ë§Œë“¤ í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.

ë‹¤ì‹œë§í•´, String ë°°ì—´ì´ë“ , Integerë°°ì—´ì´ë“ ê°„ì— ê²°êµ­ Object ë°°ì—´ì˜ í•˜ìœ„ íƒ€ì…ìœ¼ë¡œ ì¸ì‹ë˜ì–´ í•˜ë‚˜ì˜ swap ë©”ì„œë“œë¡œ ë™ì‘ì´ ê°€ëŠ¥í•˜ë‹¤.

```java
public class Arrays {
		...
		private static void swap(Object[] x, int a, int b) {
        Object t = x[a];
        x[a] = x[b];
        x[b] = t;
    }
		...
}
```

ê·¸ëŸ¬ë‚˜ ì´í›„ ìë°”ì—ì„œ ì™€ì¼ë“œì¹´ë“œì˜ ë„ì…ì„ í†µí•´ ë‹¤í˜•ì„±ê¹Œì§€ ì±™ê¸¸ ìˆ˜ ìˆê²Œ ë˜ë©´ì„œ, ë°°ì—´ë³´ë‹¤ ë¦¬ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´íŒŒì¼ëŸ¬ê°€ íƒ€ì… ì•ˆì •ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ë§Œë“œëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤. (= ì™€ì¼ë“œì¹´ë“œ ìƒí•œ ì œí•œ - <? extends T>)

</aside>

<aside>
ğŸ“¢ Q. ê·¸ë ‡ë‹¤ë©´ ë°˜ëŒ€ë¡œ ì œë„¤ë¦­ì€ ì™œ ë¶ˆê³µë³€ìœ¼ë¡œ ë§Œë“¤ì—ˆì„ê¹Œ?<br/>
A. **íƒ€ì… ì•ˆì •ì„±ì— ëŒ€í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•¨**

ë§Œì•½ ì œë„¤ë¦­ì´ ê³µë³€ì´ë¼ê³  ê°€ì •í•´ë³´ì.

```java
(1) List<Dog> dogs = new ArrayList<>();
(2) List<Animal> animals = dogs; // ì œë„¤ë¦­ì€ ë¶ˆê³µë³€ì´ë¼ ì—¬ê¸°ì„œ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒ
(3) animals.add(new Cat());
(4) Dog dog = dogs.get(0); 
```

ê·¸ëŸ¼ `List<Animal>`ë„ `List<Dog>`ì˜ ìƒìœ„ íƒ€ì…ìœ¼ë¡œ ì¸ì‹ë˜ì–´, (2)ì˜ ì½”ë“œê°€ ì •ìƒ ë™ì‘ë˜ê²Œ ëœë‹¤. ê·¸ë˜ì„œ Catì´ Animalì˜ í•˜ìœ„ íƒ€ì…ì´ë¼ë©´ (3)ì˜ ì½”ë“œì—ì„œ List<Animal>ì— Cat ê°ì²´ê°€ ë“¤ì–´ê°ˆ ìˆ˜ ìˆê²Œ ëœë‹¤.

í•˜ì§€ë§Œ dogsì—ì„œ ê°’ì„ êº¼ë‚´ëŠ” (4)ì—ì„œ ì œë„¤ë¦­ì´ê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ëŸ¬ëŠ” ë‹¹ì—°íˆ Dog ê°ì²´ê°€ ë‚˜ì˜¬ ê²ƒì´ë¼ íŒë‹¨í–ˆê² ì§€ë§Œ, ì‹¤ì œë¡œëŠ” Cat ê°ì²´ì´ë¯€ë¡œ ClassCastExceptionì´ ë°œìƒí•˜ê²Œ ë˜ì–´ ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

ì¦‰ íƒ€ì…ì•ˆì •ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ë¶ˆê³µë³€ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆë‹¤.

</aside>

